window.twerk=function(e){function t(t){return me=this,me.elems={},me.elNum=1,me.blocked=!1,me.config=s(me.defaults,t),me.init(!0),e.addEventListener("scroll",n,!1)}var i="data-t",o=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||function(t){return e.setTimeout(t,1e3/60)}}(),n=function(){me.scrolled=me.scrollY(),o(function(){me.animate()})},s=function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e};return t.prototype={defaults:{enter:"bottom",move:"20%",over:"0.5s",wait:"0s",easing:"ease",scale:{direction:"up",power:"20%"},opacity:0,reset:!0,viewport:e.document.documentElement,delay:"always",vFactor:.05,complete:function(){}},init:function(e){var t,o,n;n=Array.prototype.slice.call(me.config.viewport.querySelectorAll("["+i+"]")),n.forEach(function(e){t=me.elNum++,o=me.elems[t]={domEl:e},o.config=me.configFactory(o),o.styles=me.styleFactory(o),o.seen=!1,e.removeAttribute(i),e.setAttribute("style",o.styles.inline+o.styles.initial)}),me.scrolled=me.scrollY(),me.animate(e)},animate:function(e){var t,i,o,n;n=function(e){var t=me.elems[e];setTimeout(function(){t.domEl.setAttribute("style",t.styles.inline),t.config.complete(t.domEl),delete me.elems[e]},t.styles.duration)};for(t in me.elems)me.elems.hasOwnProperty(t)&&(i=me.elems[t],o=me.isElemInViewport(i),o&&("always"===me.config.delay||"onload"===me.config.delay&&e||"once"===me.config.delay&&!i.seen?i.domEl.setAttribute("style",i.styles.inline+i.styles.animateClass+i.styles.transition):i.domEl.setAttribute("style",i.styles.inline+i.styles.animateClass+i.styles.reset),i.seen=!0,i.config.reset||i.animating||(i.animating=!0,n(t))),!o&&i.config.reset&&i.domEl.setAttribute("style",i.styles.inline+i.styles.initial+i.styles.reset));me.blocked=!1},configFactory:function(e){var t={},o={},n=e.domEl.getAttribute(i).split(/[, ]+/);return n=me.filter(n),n.forEach(function(e,i){switch(e){case"enter":return void(t.enter=n[i+1]);case"wait":return void(t.wait=n[i+1]);case"move":return void(t.move=n[i+1]);case"ease":return t.move=n[i+1],void(t.ease="ease");case"ease-in":return"up"==n[i+1]||"down"==n[i+1]?(t.scale.direction=n[i+1],t.scale.power=n[i+2],void(t.easing="ease-in")):(t.move=n[i+1],void(t.easing="ease-in"));case"ease-in-out":return"up"==n[i+1]||"down"==n[i+1]?(t.scale.direction=n[i+1],t.scale.power=n[i+2],void(t.easing="ease-in-out")):(t.move=n[i+1],void(t.easing="ease-in-out"));case"ease-out":return"up"==n[i+1]||"down"==n[i+1]?(t.scale.direction=n[i+1],t.scale.power=n[i+2],void(t.easing="ease-out")):(t.move=n[i+1],void(t.easing="ease-out"));case"hustle":return"up"==n[i+1]||"down"==n[i+1]?(t.scale.direction=n[i+1],t.scale.power=n[i+2],void(t.easing="cubic-bezier( 0.6, 0.2, 0.1, 1 )")):(t.move=n[i+1],void(t.easing="cubic-bezier( 0.6, 0.2, 0.1, 1 )"));case"over":return void(t.over=n[i+1]);case"reset":return void(t.reset="no"==n[i-1]?!1:!0);case"scale":return t.scale={},"up"==n[i+1]||"down"==n[i+1]?(t.scale.direction=n[i+1],void(t.scale.power=n[i+2])):void(t.scale.power=n[i+1]);default:return}}),o=s(o,me.config),o=s(o,t),("top"==o.enter||"bottom"==o.enter)&&(o.axis="Y"),("left"==o.enter||"right"==o.enter)&&(o.axis="X"),"hustle"==o.easing&&(o.easing="cubic-bezier( 0.6, 0.2, 0.1, 1 )"),("top"==o.enter||"left"==o.enter)&&(o.move="-"+o.move),o},styleFactory:function(e){var t,i,o,n,s,r;return s=e.domEl.getAttribute("style")?e.domEl.getAttribute("style")+"; visibility: visible; ":"visibility: visible; ",t="-webkit-transition: -webkit-transform "+e.config.over+" "+e.config.easing+" "+e.config.wait+", opacity "+e.config.over+" "+e.config.easing+" "+e.config.wait+"; transition: transform "+e.config.over+" "+e.config.easing+" "+e.config.wait+", opacity "+e.config.over+" "+e.config.easing+" "+e.config.wait+"; -webkit-perspective: 1000;-webkit-backface-visibility: hidden;",n="-webkit-transition: -webkit-transform "+e.config.over+" "+e.config.easing+" 0s, opacity "+e.config.over+" "+e.config.easing+" 0s; transition: transform "+e.config.over+" "+e.config.easing+" 0s, opacity "+e.config.over+" "+e.config.easing+" 0s; -webkit-perspective: 1000; -webkit-backface-visibility: hidden; ",r=function(){0!==parseInt(e.config.move)&&(i+=" translate"+e.config.axis+"("+e.config.move+")",o+=" translate"+e.config.axis+"(0)"),0!==parseInt(e.config.scale.power)&&("up"==e.config.scale.direction&&(e.config.scale.value=1-.01*parseFloat(e.config.scale.power)),"down"==e.config.scale.direction&&(e.config.scale.value=1+.01*parseFloat(e.config.scale.power)),i+=" scale("+e.config.scale.value+")",o+=" scale(1)"),i+="; opacity: "+e.config.opacity+"; ",o+="; opacity: 1; "},i="transform:",o="transform:",r(),i+="-webkit-transform:",o+="-webkit-transform:",r(),{transition:t,initial:i,animateClass:o,reset:n,inline:s,duration:1e3*(parseFloat(e.config.over)+parseFloat(e.config.wait))}},filter:function(e){var t=[],i=["from","the","and","then","but","with","please"];return e.forEach(function(e){i.indexOf(e)>-1||t.push(e)}),t},getViewportH:function(){var t=me.config.viewport.clientHeight,i=e.innerHeight;return me.config.viewport==e.document.documentElement&&i>t?i:t},scrollY:function(){return me.config.viewport==e.document.documentElement?e.pageYOffset:me.config.viewport.scrollTop+me.config.viewport.offsetTop},getOffset:function(e){var t=0,i=0;do isNaN(e.offsetTop)||(t+=e.offsetTop),isNaN(e.offsetLeft)||(i+=e.offsetLeft);while(e=e.offsetParent);return{top:t,left:i}},isElemInViewport:function(t){var i=t.domEl.offsetHeight,o=me.getOffset(t.domEl).top,n=o+i,s=t.config.vFactor||0;return o+i*s<me.scrolled+me.getViewportH()&&n-i*s>me.scrolled||"fixed"==(t.domEl.currentStyle?t.domEl.currentStyle:e.getComputedStyle(t.domEl,null)).position}},t}(window);